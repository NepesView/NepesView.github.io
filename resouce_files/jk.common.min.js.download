jk.create("jk.biz.core",{});jk.create("jk.biz.core.layerlogin",{func:{},getDomain:function(){var i=window.location.hostname,t=i.split("."),n="";return t.length>0&&(n=t[0]),n==="dev"&&(n="dev.jts"),n},openLayer:function(n,t){var i=this;i.openLayerAjax(n,t)},resizeLayer:function(n){var i=$("body").find("#lyOnLogin"),r=$("#onPassApply_Frame"),e,h,c;if(r.css("height",n),e=navigator.userAgent.toLowerCase().indexOf("msie")!==-1,e)var o=window.innerWidth?window.innerWidth:$(window).width(),s=window.innerHeight?window.innerHeight:$(window).height(),h=$(window).scrollLeft()+(o-r.width())/2,c=$(window).scrollTop()+(s-i.height())/2;else{var t=window.top,o=t.innerWidth?t.innerWidth:$(t).width(),s=t.innerHeight?t.innerHeight:$(t).height(),u=$(window).scrollTop(),f=$(window).scrollLeft();u===0&&(u=$(t).scrollTop());f===0&&(f=$(t).scrollLeft());h=f+(o-r.width())/2;c=u+(s-i.height())/2}i.css({position:"absolute","z-index":"999999",left:h,top:c})},makeFnId:function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},callBackByfnId:function(n){var t=this;_.isFunction(t.func[n])&&(t.func[n](),delete t.func[n])},loginCheck:function(){var n=this;return n.loginCheckAjax()},loginCheckAndGo:function(n,t,i,r,u){window.callbackFunc=function(n){f.callBackByfnId(n)};var f=this,e=f.loginCheck(),o=f.makeFnId(),s=u!==undefined&&u!=null?u:e.memCheck;e.memCheck==0||e.memCheck!=s?(_.isFunction(n)&&(f.func[o]=function(){n.apply(t,i)}),location.protocol.indexOf("https")>=0?f.openLayer(o,r):confirm(f.memCheckName(e.memCheck)+"회원 로그인 후 이용해 주세요.\n로그인 페이지로 이동 하시겠습니까?")&&(window.location.href="/Login/Login_tot.asp?re_url="+encodeURIComponent(window.location.href).replace(/'/g,"%27").replace(/"/g,"%22"))):_.isFunction(n)&&n.apply(t,i)},loginCheckAjax:function(){var n={memId:"",memCheck:0};return $.ajax({type:"GET",url:"/login/LoginCheck",dataType:"json",cache:!1,async:!1,success:function(t){n.memId=t.memId;n.memCheck=t.memCheck},error:function(){}}),n},openLayerAjax:function(n,t){var i=this,r=!1;return url=window.location.protocol+"//"+window.location.host+"/Recruit/Home/_LayerLogin",data={reUrl:t,funcId:n,domain:i.getDomain()},$.ajax({type:"POST",url:url,data:data,cache:!1,async:!1,success:function(n){$.trim(n)!=""?($("#lyOnLogin").remove(),$("body").append(n).find("#lyOnLogin").css("left","-9999px"),i.resizeLayer()):r=!0}}),r},memCheckName:function(n){var t="개인";switch(n){case 1:t="개인";break;case 2:t="기업";break;case 4:t="서치펌"}return t}});jk.create("jk.biz.core.tracker",{criteo:function(n){$.ajax({type:"POST",url:"/Include/Criteo/Criteo_Scrap_UTF.asp?Gi_No="+n,dataType:"html",cache:!1,success:function(n){var t=$(n);$("#widerplanet_tagging").html(t.html());t.filter("script").each(function(){$.globalEval(this.text||this.textContent||this.innerHTML||"")})}})},dsLog:function(n,t,i){window._dslog&&(window._dslog.clearVal(),window._dslog.clearType(),window._dslog.registType(n),window._dslog.registVal(t,i),window._dslog.dispatch())},dsLogTitle:function(n,t,i){var r=i.attr("data-dslog-title");r!==undefined&&this.dsLog(n,t,r)}});jk.create("jk.biz.enums",{});jk.create("jk.biz.player",{playerOptions:{},playbackRate:1,load:function(n,t,i){var r=this,u,f;try{r.playerOptions[n]=t;t.playStat=i!==null&&i!==undefined?i:!1;t.doYouSetTime=!1;t.playerHTML='<video id="'+n+'" style="width: 100%; height: 100%" class="video-js vjs-default-skin" controls playsinline preload="metadata" poster="'+t.poster+'"><\/video>';$("#"+n).length>0&&videojs(n).dispose();$("#"+t.videocontainerid).html(t.playerHTML);u=videojs(n,{playbackRates:[.5,1,1.2,1.5,2],inactivityTimeout:0,plugins:{videoJsResolutionSwitcher:{"default":"high",dynamicLabel:!0},eme:!0},html5:{nativeCaptions:!1,hls:{withCredentials:!1},dash:{setLimitBitrateByPortal:!1}}});u.bigPlayButton.hide();u.loadingSpinner.hide();t.el=$("#"+n);t.el.find(".vjs-picture-in-picture-control").hide();r.services(n).setVideo(u,t);$(window).resize(function(){r.services(n).resize()});t.el.find("#jkerror").remove();t.errorCheck=setInterval(function(){var i=videojs(n);i.log!==null&&i.log!==undefined&&(i.log.history.filter("VIDEOJS").forEach(function(i){i.length>3&&i[3].indexOf("Failed to execute 'createMediaKeys' on 'MediaKeySystemAccess'")>-1&&location.reload();isNaN(t.failCount)&&(t.failCount=0);t.failCount=t.failCount+1;i[1]==="ERROR:"&&(t.failCount>5?r.services(n).errorHandler(u,"3007"):console.log("fail count : "+t.failCount))}),i.log.history.clear(),clearInterval(t.errorCheck))},5e3)}catch(e){r.services(n).log(e);f="서비스 점검 중입니다.<br>잠시 후 다시 시도해 주세요.";t.islowspecification&&(f="DRM(저작권보호장치)이 적용된 영상으로<br/>본 PC의 권장사양을 확인 부탁 드립니다.");r.services(n).errorDisplay(f)}},events:function(n){var r=this,t=videojs(n),i=r.playerOptions[n],u=null,f=0,s=0,o=0,h=new Date,e=1;return{onPlayerLoadedmetadata:function(){r.services(n).log("loadedmetadata event");i.el.find(".vjs-audio-button").hide();i.duration=t.duration();r.services(n).resize();try{i.isapple||(t.audioTracks()[0].enabled=!0)}catch(e){}if(t.qualityLevels().length===0)i.el.find(".vjs-resolution-button").hide();else{t.qualityLevels().on("change",function(){r.services(n).setCurrentQualityLevelsCss()});i.Res!==undefined?(r.services(n).changeResolution(i.Res),r.services(n).log(i.Res+"설정")):r.services(n).setCurrentQualityLevelsCss()}i.playStat?t.play():(t.bigPlayButton.show(),t.controlBar.remainingTimeDisplay.updateContent(),t.controlBar.audioTrackButton.hide(),t.controlBar.subsCapsButton.hide());i.doYouSetTime||i.isapple||r.services(n).setCurrentTime(t,i);videojs(n).playbackRate(jk.biz.player.playbackRate)},onPlayerLoadeddata:function(){r.services(n).log("loadeddata event");r.services(n).resize();t.controlBar.remainingTimeDisplay.updateContent()},onPlayerError:function(){if(i.el.find(".vjs-error-display").css("display")!=="none"&&(i.el.find(".vjs-error-display").hide(),r.services(n).errorHandler(t,"")),i.errorcallbackurl!==undefined&&i.errorcallbackurl!==null){var u=t.error();r.services(n).errorHandler(t,u.code)}},onPlayerEnded:function(){r.services(n).log("ended event");i.isplaying=!1;i.playStat=!1;i.playcallbackurl!==undefined&&i.playcallbackurl!==null&&r.services(n).addHist(t,i,100)},onPlayerRatechange:function(){r.services(n).log("ratechange event");jk.biz.player.playbackRate=videojs(n).playbackRate()},onPlayerTimeupdate:function(){if(t.currentTime!==undefined&&typeof t.currentTime=="function"&&t.currentTime()!==null){try{new Date-h>3e3&&(s===t.currentTime()&&(e=-e,t.currentTime()+e>t.buffered().start(0)&&o===t.buffered().end(0)&&(t.currentTime(t.currentTime()+e),r.services(n).log("onPlayerTimeupdate 시작점 수정"),r.services(n).log("버퍼링 끝 지점 : "+o))),h=new Date);s=t.currentTime();o=t.buffered().end(0)}catch(e){r.services(n).log("onPlayerTimeupdate buffer 없음")}if(!t.seeking()){i.duration!==t.duration()&&t.duration(i.duration);var f=t.currentTime(),c=t.duration(),l=Math.floor(f/c*100);f>0&&f<1&&$("#jkerror").hide();(f===0||f%3<=.3)&&i.playcallbackurl!==undefined&&i.playcallbackurl!==null&&r.services(n).addHist(t,i,l);t.controlBar.remainingTimeDisplay.updateContent();!i.doYouSetTime&&i.isapple&&r.services(n).setCurrentTime(t,i);i.failCount=0;u!==null&&(clearTimeout(u),u=null);t.controlBar.progressControl.enabled()||t.controlBar.progressControl.enable()}}},onPlayerMouseout:function(){t.userActive(!1);t.controlBar.hide()},onPlayerMouseover:function(){t.userActive(!0);t.controlBar.show()},onPlayerTouchstart:function(){r.services(n).log("touchstart event");t.controlBar.hasClass("vjs-hidden")&&(t.userActive(!0),t.controlBar.show())},onPlayerPause:function(){r.services(n).log("pause event");i.isplaying=!1;i.playStat=!1;t.poster(i.poster)},onPlayerWaiting:function(){r.services(n).log("waiting event");t.controlBar.progressControl.disable();u!==null&&(clearTimeout(u),u=null);u=setInterval(function(){r.services(n).log("로딩 감시");f>10&&(clearTimeout(u),u=null,f=0);f++;try{t!==null&&t.buffered().start(0)>0&&t.currentTime()<t.buffered().start(0)&&(t.currentTime(Math.ceil(t.buffered().start(0))),clearTimeout(u),u=null,r.services(n).log("onPlayerWaiting 시작점 수정"))}catch(i){r.services(n).log("onPlayerWaiting buffer 없음")}},1e3)},onPlayerPlaying:function(){r.services(n).log("playing event");u!==null&&(clearTimeout(u),u=null)},onPlayerPlay:function(){r.services(n).log("play event");t.controlBar.progressControl.disable();t.poster(null);i.isplaying=!0;i.playStat=!0;t.loadingSpinner.show();$.ajax({type:"get",url:"/login/LoginCheck",dataType:"json",cache:!1,success:function(u){u.memCheck!=="1"&&r.services(n).errorHandler(t,"3003");t.remainingTime()<=1&&r.load(n,i,!0)}});u!==null&&(clearTimeout(u),u=null);u=setInterval(function(){r.services(n).log("로딩 감시");f>10&&(clearTimeout(u),u=null,f=0);f++;try{t!==null&&t.buffered().start(0)>0&&t.currentTime()<t.buffered().start(0)&&(t.currentTime(Math.ceil(t.buffered().start(0))),clearTimeout(u),u=null,r.services(n).log("onPlayerWaiting 시작점 수정"))}catch(i){r.services(n).log("onPlayerWaiting buffer 없음")}},1e3)},onPlayerResolutionchange:function(){r.services(n).log("resolutionchange event");setTimeout(function(){i.el.find(".vjs-resolution-button .vjs-menu").removeClass("vjs-hidden")},1500);var u=t.qualityLevels().selectedIndex;i.Res=t.qualityLevels()[u].height},onPlayerKeyDown:function(n){var r,u,f,e;if(t.currentTime!==undefined&&typeof t.currentTime=="function"&&t.currentTime()!==null){var o=t.currentTime(),s=t.duration(),h=t.volume();n.keyCode===32?(i.isplaying?t.pause():t.play(),n.preventDefault()):n.keyCode===37?(r=o-10,t.pause(),t.currentTime(r>0?r:0),t.play(),n.preventDefault()):n.keyCode===39?t.duration()-30>=i.lastlearningtime&&(u=o+10,t.pause(),t.currentTime(u>s?s:u),t.play(),n.preventDefault()):n.keyCode===38?(f=h+.1,t.volume(f>1?1:f),n.preventDefault()):n.keyCode===40&&(e=h-.1,t.volume(e>0?e:0),n.preventDefault())}}}},services:function(n){var r=this,i=videojs(n),t=r.playerOptions[n];return{log:function(n){(document.URL.indexOf("stg")>0||document.URL.indexOf("jts")>0)&&console.log(n)},setCurrentQualityLevelsCss:function(){for(var f,n=!0,r=0;r<i.qualityLevels().levels_.length;r++)n=n&&i.qualityLevels().levels_[r].enabled;var e=i.qualityLevels().levels_[i.qualityLevels().selectedIndex].height,o=t.el.find(".vjs-resolution-button-label"),u=t.el.find(".vjs-resolution-button").find(".vjs-menu-content");u.find("li").removeClass("vjs-selected");f=u.find("li:contains('"+e+"')");n?u.find("li:contains('AUTO')").addClass("vjs-selected"):f.addClass("vjs-selected");o.html(f.html())},setVideo:function(){var f,u;i.ready(function(){t.audioCodecs="";t.videoCodecs="";t.isapple?$.ajax({type:"get",url:t.hlsurl.replace(".smil","_720p.mp4"),dataType:"html",cache:!1}).done(function(r){var u=/RESOLUTION=(\d*)x(\d*)/.exec(r);if(u!==null&&u.length===3){var o=parseInt(u[1],10),s=parseInt(u[2],10),f=$("#"+t.videocontainerid).width(),e=s*f/o;i.width(f);$("#"+t.videocontainerid).height(e);$("#"+n).height(e)}i.updateSrc([{src:t.hlsurl.replace("_1080p.mp4",".smil").replace("_720p.mp4",".smil").replace("_480p.mp4",".smil"),type:"application/vnd.apple.mpegurl",label:"AUTO",res:0,keySystems:{license_url:t.licenseurl,pallycon_custom_data:t.fairplaycustomdata,certificate_uri:t.certificateuri+"?siteId="+t.siteid}},{src:t.hlsurl.replace(".smil","_1080p.mp4").replace("_720p.mp4","_1080p.mp4").replace("_480p.mp4","_1080p.mp4"),type:"application/vnd.apple.mpegurl",label:"HD1080",res:1080,keySystems:{license_url:t.licenseurl,pallycon_custom_data:t.fairplaycustomdata,certificate_uri:t.certificateuri+"?siteId="+t.siteid}},{src:t.hlsurl.replace(".smil","_720p.mp4").replace("_1080p.mp4","_720p.mp4").replace("_480p.mp4","_720p.mp4"),type:"application/vnd.apple.mpegurl",label:"HD720",res:720,keySystems:{license_url:t.licenseurl,pallycon_custom_data:t.fairplaycustomdata,certificate_uri:t.certificateuri+"?siteId="+t.siteid}},{src:t.hlsurl.replace(".smil","_720p.mp4").replace("_1080p.mp4","_720p.mp4").replace("_480p.mp4","_720p.mp4"),type:"application/vnd.apple.mpegurl",label:"SD480",res:480,keySystems:{license_url:t.licenseurl,pallycon_custom_data:t.fairplaycustomdata,certificate_uri:t.certificateuri+"?siteId="+t.siteid}}])}):$.ajax({type:"get",url:t.dashurl,dataType:"xml",cache:!1}).done(function(n){t.Representation=[];$(n).find("AdaptationSet").each(function(n,i){var r=$(i).find("Representation").attr("codecs");$(i).attr("mimeType")==="audio/mp4"&&r!==""&&r!==null&&r!==undefined&&(t.audioCodecs=$(i).find("Representation").attr("codecs"));$(i).attr("mimeType")==="video/mp4"&&r!==""&&r!==null&&r!==undefined&&(t.videoCodecs=$(i).find("Representation").attr("codecs"),$(i).find("Representation").each(function(n,i){t.Representation.push($(i).attr("height"))}))});var u={"com.widevine.alpha":{audioContentType:'audio/mp4; codecs="'+t.audioCodecs+'"',audioRobustness:"SW_SECURE_CRYPTO",videoContentType:'video/mp4; codecs="'+t.videoCodecs+'"',videoRobustness:"SW_SECURE_CRYPTO",url:t.licenseurl,licenseHeaders:{"pallycon-customdata-v2":t.widevinecustomdata}},"com.microsoft.playready":{audioContentType:'audio/mp4; codecs="'+t.audioCodecs+'"',audioRobustness:"SW_SECURE_CRYPTO",videoContentType:'video/mp4; codecs="'+t.videoCodecs+'"',videoRobustness:"SW_SECURE_CRYPTO",url:t.licenseurl,licenseHeaders:{"pallycon-customdata-v2":t.playreadycustomdata}}},r=[];$(t.Representation).each(function(n,i){r.push({src:t.dashurl,type:"application/dash+xml",label:i+"p",res:i,keySystems:u})});r.push({src:t.dashurl,type:"application/dash+xml",label:"AUTO",res:9999,keySystems:u});i.updateSrc(r)})});f=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(u,e){return e===t.licenseurl&&this.addEventListener("load",function(){var t=String.fromCharCode.apply(null,new Uint8Array(this.response)),u,f,e;t.indexOf("errorCode")>0&&(u=JSON.parse(t).errorCode,8002===u?(f=JSON.parse(t).message,e=JSON.parse(f),r.services(n).errorHandler(i,e.ERROR)):r.services(n).errorHandler(i,u))}),f.apply(this,arguments)};u=r.events(n);i.on("loadedmetadata",u.onPlayerLoadedmetadata);i.on("loadeddata",u.onPlayerLoadeddata);i.on("error",u.onPlayerError);i.on("ended",u.onPlayerEnded);i.on("ratechange",u.onPlayerRatechange);i.on("timeupdate",u.onPlayerTimeupdate);i.on("mouseout",u.onPlayerMouseout);i.on("mouseover",u.onPlayerMouseover);i.on("touchstart",u.onPlayerTouchstart);i.on("pause",u.onPlayerPause);i.on("waiting",u.onPlayerWaiting);i.on("playing",u.onPlayerPlaying);i.on("play",u.onPlayerPlay);i.on("resolutionchange",u.onPlayerResolutionchange);$("#"+t.videocontainerid).on("keydown",u.onPlayerKeyDown)},setCurrentTime:function(n,t){if(t.lastlearningtime!==undefined&&t.lastlearningtime!==null&&!t.islowspecification&&parseInt(t.lastlearningtime)>0){var i=parseInt(t.lastlearningtime),r=parseInt(t.duration/10)*10-10;i>r&&(i=0);n.tech().setCurrentTime(i);t.doYouSetTime=!0}},changeResolution:function(n){var t=i.qualityLevels(),r=t.levels_;n==9999?($(r).each(function(n){r[n].enabled=!0}),t.selectedIndex_=0,t.trigger({type:"change",selectedIndex:0})):$(r).each(function(i,u){u.height==n?(r[i].enabled=!0,t.selectedIndex_=i,t.trigger({type:"change",selectedIndex:i})):r[i].enabled=!1});i.handleTechSeeked_();i.trigger("resolutionchange")},resize:function(){var s;try{var f=i.videoWidth(),e=i.videoHeight(),r=$("#"+t.videocontainerid).width(),u=e*r/f;i.width(r);$("#"+t.videocontainerid).height(u);$("#"+n).height(u)}catch(o){s=o}},addHist:function(t,i,u){var f=t.currentTime!==undefined&&typeof t.currentTime=="function"&&t.currentTime()!==null?t.currentTime():0;f=Math.floor(f);u>=99&&(f=0);u>=99&&(u=100);$.ajax({method:"POST",dataType:"JSON",cache:!1,url:i.playcallbackurl+"&lastLearningTime="+f+"&courseProgressRate="+u}).done(function(i){r.services(n).errorHandler(t,i.rc)})},errorDisplay:function(n){var i='<p id="jkerror" class="check" style="width:100%;height:100%;"><em>$$message$$<\/em><\/p>';$("#jkerror").length===0?$(i.replace("$$message$$",n)).insertAfter($("#"+t.videocontainerid).find("video")):$("#jkerror").replaceWith(i.replace("$$message$$",n))},errorHandler:function(i,u){var o,f;if(u!=="0000"){try{i.isFullscreen()&&i.exitFullscreen();i.loadingSpinner.hide();i.bigPlayButton.hide();i.reset()}catch(e){o=e}f='해당 콘텐츠의 연결이 원활하지 않습니다.<br>잠시 후 다시 이용해 주세요.<br><a href="#" alt="재시도" onclick="jk.biz.player.load("'+n+'", jk.biz.player.options, true);" style="color:white;text-decoration:underline  ">재시도 &gt;<\/a>';t.islowspecification&&(f="DRM(저작권보호장치)이 적용된 영상으로<br/>본 PC의 권장사양을 확인 부탁 드립니다.");switch(u){case"3001":t.openpayrequestscript!==undefined&&t.openpayrequestscript!==null&&$.globalEval(t.openpayrequestscript);break;case"3002":r.services(n).errorDisplay(f);break;case"3003":r.services(n).errorDisplay("동영상 시청은 로그인 후 이용 가능합니다.");break;case"3004":r.services(n).errorDisplay("동시 시청이 확인되어 재생이 종료되었습니다.<br>잠시 후 다시 이용해 주세요.");break;default:r.services(n).errorDisplay(f)}r.services(n).resize();t.errorcallbackurl!==undefined&&t.errorcallbackurl!==null&&$.ajax({type:"get",url:t.errorcallbackurl+u,dataType:"json",cache:!1,success:function(){}})}}}}});jk.create("jk.util.object",{getValue:function(n,t){var i,r;if(!jk.util.type.isObject(n)||!jk.util.type.isString(t))return"";i="";for(r in n)if(r.toLowerCase()===t.toLowerCase()){i=n[r];break}return i},setValue:function(n,t,i){if(jk.util.type.isObject(n)&&jk.util.type.isString(t)){for(var r in n)if(r.toLowerCase()===t.toLowerCase()){t=r;break}n[t]=i}}});jk.extend("jk.util.string",{antiXss:function(n){return $("<div>").text(n).html()}});jk.create("jk.util.sns",{goTwitter:function(n,t,i,r){var u;try{u=this;u.goPosting(1,t,i,r);var e=n,f="http://twitter.com/intent/tweet?text="+encodeURIComponent(e),o=navigator.userAgent.toLowerCase();o.indexOf("ipad")!=-1?location.href=f:window.open(f,"","")}catch(s){alert(s.message)}},goFacebook:function(n,t,i,r){var f,u,e;try{f=this;f.goPosting(2,t,i,r);u="http://www.facebook.com/sharer.php?u="+encodeURIComponent(n);e=navigator.userAgent.toLowerCase();e.indexOf("ipad")!=-1?location.href=u:window.open(u,"facebookShare","width=740px,height=400px")}catch(o){}},goMe2Day:function(n,t,i,r,u,f){var e;try{e=this;e.goPosting(3,r,u,f);var s=n+'-"'+t+'":'+i,o="http://me2day.net/posts/new?new_post[body]="+encodeURIComponent(s)+"&new_post[tags]="+encodeURIComponent("채용, 취업, 모임, 일자리"),h=navigator.userAgent.toLowerCase();h.indexOf("ipad")!=-1?location.href=o:window.open(o,"","")}catch(c){}},goCLog:function(n,t,i,r){try{goPosting(4,t,i,r);var f="http://csp.cyworld.com/bi/bi_recommend_pop.php?url="+n,u=window.open("","","width=400,height=364,scrollbars=no,resizable=no");u!=null&&(u.opener==null&&(u.opener=self),u.location.href=f)}catch(e){}},goPosting:function(n,t,i,r){$.ajax({type:"GET",url:"/Recruit/Sns_Posting",data:"Short_Div="+t+"&Posting_Div="+n+"&Full_URL="+escape(i),cache:!1,success:function(n){r&&r.call(this,n)}})}});
//# sourceMappingURL=jk.common.min.js.map