/*!
 * geocoder - NAVER Maps API Submodule v1.3.0 - 2020-07-02 11:25:39
 *
 * Copyright(c) 2020, NAVER corp, Team mantle <dl_mantle@navercorp.com>
 */
!function(window,undefined){function serialize(e){var r=[];for(var o in e)e.hasOwnProperty(o)&&r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.join("&")}function makeAddress(e){if(e){var r=e.name,o=e.region,t=e.land,n="roadaddr"===r,a="",s="",i="",u="",d="";return hasArea(o.area1)&&(a=o.area1.name),hasArea(o.area2)&&(s=o.area2.name),hasArea(o.area3)&&(i=o.area3.name),hasArea(o.area4)&&(u=o.area4.name),t&&(hasData(t.number1)&&(hasData(t.type)&&"2"===t.type&&(d+="산"),d+=t.number1,hasData(t.number2)&&(d+="-"+t.number2)),n===!0&&(checkLastString(i,"면")?u=t.name:(i=t.name,u=""),hasAddition(t.addition0)&&(d+=" "+t.addition0.value))),[a,s,i,u,d].join(" ")}}function hasArea(e){return!(!e||!e.name||""===e.name)}function hasData(e){return!(!e||""===e)}function checkLastString(e,r){return new RegExp(r+"$").test(e)}function hasAddition(e){return!(!e||!e.value)}var document=window.document,G={},NAVER_MAPS=naver.maps,mantle=NAVER_MAPS.__export(),SUBMODULES_INIT_EVENT="__sbinit",CLIENT_ID=mantle.CLIENT_ID||null,OPENAPI_CLIENT_ID=mantle.OPENAPI_CLIENT_ID||null,NCP_CLIENT_ID=mantle.NCP_CLIENT_ID||null,GOV_CLIENT_ID=mantle.GOV_CLIENT_ID||null,FIN_CLIENT_ID=mantle.FIN_CLIENT_ID||null,LOCATION_URL=window.location.href+"",STATUS_OK=200,STATUS_ERROR=500,ENCODING_UTF_8="utf-8",ENCODING_EUC_KR="euc-kr",COORD_TYPE_LATLNG="latlng",COORD_TYPE_TM128="tm128",COORDINATES_TYPE_LATLNG="epsg:4326",COORDINATES_TYPE_UTMK="nhn:2048",COORDINATES_TYPE_TM128="nhn:128",COORDINATES_TYPE_EPSG3857="epsg:3857",GEOCODE_URL=OPENAPI_CLIENT_ID?"https://openapi.naver.com/v1/map/geocode-js":NCP_CLIENT_ID?"https://naveropenapi.apigw.ntruss.com/map-geocode/v2/geocode-js":GOV_CLIENT_ID?"https://naveropenapi.apigw.gov-ntruss.com/map-geocode/v2/geocode-js":"https://naveropenapi.apigw.fin-ntruss.com/map-geocode/v2/geocode-js",REVERSE_GEOCODE_URL=OPENAPI_CLIENT_ID?"https://openapi.naver.com/v1/map/reversegeocode-js":NCP_CLIENT_ID?"https://naveropenapi.apigw.ntruss.com/map-reversegeocode/v2/gc-js":GOV_CLIENT_ID?"https://naveropenapi.apigw.gov-ntruss.com/map-reversegeocode/v2/gc-js":"https://naveropenapi.apigw.fin-ntruss.com/map-reversegeocode/v2/gc-js",ADDRESS_TYPE={JIBUN:"addr",ROAD:"roadaddr"},ORDER_TYPE_COUNTRY_CODE="countrycode",ORDER_TYPE_LEGAL_CODE="legalcode",ORDER_TYPE_ADDR="addr",ORDER_TYPE_ROAD_ADDR="roadaddr",ORDER_TYPE_ADM_CODE="admcode",GEOCODE_NCP_PARAMETERS=[{name:"query",replace:"address",type:"string",required:!0},{name:"coordinate",type:"string",required:!1},{name:"filter",type:"string",required:!1},{name:"page",type:"number",required:!1},{name:"count",type:"number",required:!1}],REVERSEGEOCODE_NCP_PARAMETERS=[{name:"coords",replace:"location",type:"string",required:!0},{name:"request",type:"string",required:!1},{name:"sourcecrs",type:"string",required:!1},{name:"targetcrs",type:"string",required:!1},{name:"orders",type:"string",required:!1},{name:"output",type:"string",required:!1}];!function(){function e(e,r,o,t,n){return e*n-r*Math.sin(2*n)+o*Math.sin(4*n)-t*Math.sin(6*n)}function r(e){return 0>e?-1:1}function o(e){return Math.abs(e)<T?e:e-r(e)*c}function t(e,t){var n,a,s,i,u,d=6;t.x-=e.falseEasting,t.y-=e.falseNorthing,n=(e.ml0+t.y/e.scaleFactor)/e.a,a=n;for(var T=0;;){if(s=(n+e.e1*Math.sin(2*a)-e.e2*Math.sin(4*a)+e.e3*Math.sin(6*a))/e.e0-a,a+=s,Math.abs(s)<=m)break;if(T>=d)return!1;T++}if(Math.abs(a)<f){var c=Math.sin(a),_=Math.cos(a),E=Math.tan(a),l=e.ep2*Math.pow(_,2),p=Math.pow(l,2),g=Math.pow(E,2),h=Math.pow(g,2);n=1-e.es*Math.pow(c,2);var C=e.a/Math.sqrt(n),R=C*(1-e.es)/n,M=t.x/(C*e.scaleFactor),P=Math.pow(M,2);i=a-C*E*P/R*(.5-P/24*(5+3*g+10*l-4*p-9*e.ep2-P/30*(61+90*g+298*l+45*h-252*e.ep2-3*p))),u=o(e.lng0+M*(1-P/6*(1+2*g+l-P/20*(5-2*l+28*g-3*p+8*e.ep2+24*h)))/_)}else i=f*r(t.y),u=e.lng0;return t.x=u,t.y=i,!0}function n(e,r,o){if(e.datum==r.datum)return!0;var t,n,a,s,i,u,d,T,f,c;return"Bessel"===e.datum&&"GRS80"===r.datum?(t=e.datum_params[0],n=e.datum_params[1],a=e.datum_params[2],s=e.datum_params[3],i=e.datum_params[4],u=e.datum_params[5],d=e.datum_params[6],T=o.x-g.fromBesselToGRS80.x0,f=o.y-g.fromBesselToGRS80.y0,c=o.z-g.fromBesselToGRS80.z0,o.x=d*(T+f*u-c*i)+g.fromBesselToGRS80.x0+t,o.y=d*(-T*u+f+c*s)+g.fromBesselToGRS80.y0+n,o.z=d*(T*i-f*s+c)+g.fromBesselToGRS80.z0+a):(t=r.datum_params[0],n=r.datum_params[1],a=r.datum_params[2],s=r.datum_params[3],i=r.datum_params[4],u=r.datum_params[5],d=Math.pow(r.datum_params[6],-1),T=o.x-g.fromGRS80ToBessel.x0-t,f=o.y-g.fromGRS80ToBessel.y0-n,c=o.z-g.fromGRS80ToBessel.z0-a,o.x=d*(T-f*u+c*i)+g.fromGRS80ToBessel.x0,o.y=d*(T*u+f-c*s)+g.fromGRS80ToBessel.y0,o.z=d*(-T*i+f*s+c)+g.fromGRS80ToBessel.z0),!0}function a(e,r){var o,t,n,a,s=r.x,i=r.y,u=r.z;if(-f>i&&i>-1.001*f)i=-f;else if(i>f&&1.001*f>i)i=f;else if(-f>i||i>f)return!1;return s>T&&(s-=2*T),t=Math.sin(i),a=Math.cos(i),n=t*t,o=e.a/Math.sqrt(1-e.es*n),r.x=(o+u)*a*Math.cos(s),r.y=(o+u)*a*Math.sin(s),r.z=(o*(1-e.es)+u)*t,!0}function s(r,t){var n=o(t.x-r.lng0),a=Math.sin(t.y),s=Math.cos(t.y),i=s*n,u=Math.pow(i,2),d=r.ep2*Math.pow(s,2),T=Math.tan(t.y),f=Math.pow(T,2),c=1-r.es*Math.pow(a,2),m=r.a/Math.sqrt(c),_=r.a*e(r.e0,r.e1,r.e2,r.e3,t.y);return t.x=r.scaleFactor*m*i*(1+u/6*(1-f+d+u/20*(5-18*f+Math.pow(f,2)+72*d-58*r.ep2)))+r.falseEasting,t.y=r.scaleFactor*(_-r.ml0+m*T*u*(.5+u/24*(5-f+9*d+4*Math.pow(d,2)+u/30*(61-58*f+Math.pow(f,2)+600*d-330*r.ep2))))+r.falseNorthing,!0}function i(e,r){var o,t,n,a,s,i,u,d,T,c,m,l,p,g,h,C,R=parseFloat(r.x),M=parseFloat(r.y),P=parseFloat(r.z),S=!1;if(0!==R)t=Math.atan2(M,R);else if(M>0)t=f;else if(0>M)t=-f;else if(S=!0,t=0,P>0)o=f;else{if(!(0>P))return o=f,n=-e.b,!1;o=-f}return s=R*R+M*M,a=Math.sqrt(s),i=P*_,d=Math.sqrt(i*i+s),c=i/d,l=a/d,m=c*c*c,u=P+e.b*e.ep2*m,C=a-e.a*e.es*l*l*l,T=Math.sqrt(u*u+C*C),p=u/T,g=C/T,h=e.a/Math.sqrt(1-e.es*p*p),n=g>=E?a/g-h:-E>=g?a/-g-h:P/p+h*(e.es-1),S===!1&&(o=Math.atan(p/g)),r.x=t,r.y=o,r.z=n,!0}function u(e,r,o){return a(e,o),n(e,r,o),i(r,o),o}var d=(mantle.Math.fromRadiansToDegrees,mantle.Math.fromDegreesToRadians),T=3.141592653589793,f=1.5707963267948966,c=6.283185307179586,m=1e-10,_=1.0026,E=.3826834323650898,l=484813681109536e-20,p={UTM:{name:"UTM",datum:"Bessel",lat0:0,lng0:129,a:6378137,b:1/298.257223563,falseNorthing:5e5,falseEasting:0,scaleFactor:.9996},UTMK:{name:"UTMK",datum:"GRS80",lat0:38,lng0:127.5,a:6378137,b:6356752.314140356,falseNorthing:2e6,falseEasting:1e6,scaleFactor:.9996},WTM:{name:"WTM",datum:"WGS84",lat0:38,lng0:127,a:6378137,b:1/298.257223563,falseNorthing:2e5,falseEasting:5e5,scaleFactor:1},WKTM:{datum:"WGS84",lat0:38,lng0:128,a:6378137,b:1/298.257223563,falseNorthing:4e5,falseEasting:6e5,scaleFactor:.9999},TM128:{name:"TM128",datum:"Bessel",lat0:38,lng0:128,a:6377397.155,b:6356078.962818189,datum_params:[-145.907,505.034,685.756,-1.162,2.347,1.592,6.342],falseNorthing:6e5,falseEasting:4e5,scaleFactor:.9999}},g={fromBesselToGRS80:{x0:-3159521.31,y0:4068151.32,z0:3748113.85},fromGRS80ToBessel:{x0:-3159666.86,y0:4068655.7,z0:3748799.65}};mantle.forEach(p,function(r){r.lat0=d(r.lat0),r.lng0=d(r.lng0),r.a2=r.a*r.a,r.b2=r.b*r.b,r.es=(r.a2-r.b2)/r.a2,r.e=Math.sqrt(r.es),r.ep2=(r.a2-r.b2)/r.b2,r.e0=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))}(r.es),r.e1=function(e){return.375*e*(1+.25*e*(1+.46875*e))}(r.es),r.e2=function(e){return.05859375*e*e*(1+.75*e)}(r.es),r.e3=function(e){return e*e*e*(35/3072)}(r.es),r.ml0=r.a*e(r.e0,r.e1,r.e2,r.e3,r.lat0),r.datum_params&&r.datum_params.length>3&&(r.datum_params[3]*=l,r.datum_params[4]*=l,r.datum_params[5]*=l,r.datum_params[6]=r.datum_params[6]/1e6+1)}),G.proj={EPSG3857:mantle.EPSG3857,UTMK:mantle.UTMK,UTMK_NAVER:mantle.UTMK_NAVER,convert:function(e,r,o){var n={x:o.x,y:o.y,z:0},a=p[e],i=p[r];return t(a,n),u(a,i,n),s(i,n),new naver.maps.Point(n.x,n.y)}}}();var EPSG3857Coord=function(){};EPSG3857Coord.OFFSET=20037508.3427892,EPSG3857Coord.OFFSET2=40075016.6855784,NAVER_MAPS.Util.ClassExtend(EPSG3857Coord,mantle.EPSG3857Projection,{name:"EPSG:3857Coord",fromPointToEPSG3857:function(e){var r=new mantle.Point(e.x,e.y);return r.mul(EPSG3857Coord.OFFSET2,EPSG3857Coord.OFFSET2).div(1,-1).sub(EPSG3857Coord.OFFSET,-EPSG3857Coord.OFFSET),r},fromPointToCoord:function(e){return this.fromPointToEPSG3857(e)},fromEPSG3857ToPoint:function(e){var r=new mantle.Point(e.x,e.y);return r.add(EPSG3857Coord.OFFSET,-EPSG3857Coord.OFFSET).mul(1,-1).div(EPSG3857Coord.OFFSET2,EPSG3857Coord.OFFSET2),r},fromCoordToPoint:function(e){return this.fromEPSG3857ToPoint(e)},fromEPSG3857ToLatLng:function(e){var r=this.fromEPSG3857ToPoint(e);return this.fromPointToLatLng(r)},fromCoordToLatLng:function(e){return this.fromEPSG3857ToLatLng(e)},fromLatLngToEPSG3857:function(e){var r=this.fromLatLngToPoint(e);return this.fromPointToEPSG3857(r)},fromLatLngToCoord:function(e){return this.fromLatLngToEPSG3857(e)}}),mantle.EPSG3857CoordProjection=EPSG3857Coord,mantle.EPSG3857Coord=new EPSG3857Coord,G.proj.EPSG3857Coord=new EPSG3857Coord;var UTMKCoord=function(){};NAVER_MAPS.Util.ClassExtend(UTMKCoord,mantle.UTMKProjection,{name:"UTMKCoord",fromPointToCoord:function(e){var r=this.fromPointToUTMK(e);return r.x=parseFloat(r.x.toFixed(1)),r.y=parseFloat(r.y.toFixed(1)),r},fromCoordToPoint:function(e){return this.fromUTMKToPoint(e)},fromCoordToLatLng:function(e){var r=this.fromCoordToPoint(e);return this.fromPointToLatLng(r)},fromLatLngToCoord:function(e){var r=this.fromLatLngToPoint(e);return this.fromPointToCoord(r)}}),mantle.UTMKCoordProjection=UTMKCoord,mantle.UTMKCoord=new UTMKCoord,G.proj.UTMKCoord=new UTMKCoord;var UTMK_NAVERCoord=function(){};NAVER_MAPS.Util.ClassExtend(UTMK_NAVERCoord,mantle.UTMK_NAVERProjection,{name:"UTMK_NAVERCoord",fromPointToCoord:function(e){return this.fromPointToNaver(e)},fromCoordToPoint:function(e){return this.fromNaverToPoint(e)},fromCoordToLatLng:function(e){return this.fromNaverToLatLng(e)},fromLatLngToCoord:function(e){return this.fromLatLngToNaver(e)}}),mantle.UTMK_NAVERCoordProjection=UTMK_NAVERCoord,mantle.UTMK_NAVERCoord=new UTMK_NAVERCoord,G.proj.UTMK_NAVERCoord=new UTMK_NAVERCoord;var TM128Coord=function(){};NAVER_MAPS.Util.ClassExtend(TM128Coord,mantle.UTMKProjection,{name:"TM128Coord",fromTM128ToUTMK:function(e){var r=G.proj.convert("TM128","UTMK",e);return r},fromUTMKToTM128:function(e){var r=G.proj.convert("UTMK","TM128",e);return r.x=parseInt(r.x,10),r.y=parseInt(r.y,10),r},fromPointToTM128:function(e){var r=this.fromPointToUTMK(e);return this.fromUTMKToTM128(r)},fromPointToCoord:function(e){return this.fromPointToTM128(e)},fromTM128ToPoint:function(e){var r=this.fromTM128ToUTMK(e);return this.fromUTMKToPoint(r)},fromCoordToPoint:function(e){return this.fromTM128ToPoint(e)},fromLatLngToTM128:function(e){var r=this.fromLatLngToUTMK(e);return this.fromUTMKToTM128(r)},fromTM128ToLatLng:function(e){var r=this.fromTM128ToUTMK(e);return this.fromUTMKToLatLng(r)},fromCoordToLatLng:function(e){var r=this.fromTM128ToPoint(e);return this.fromPointToLatLng(r)},fromLatLngToCoord:function(e){var r=this.fromLatLngToPoint(e);return this.fromPointToCoord(r)}}),mantle.TM128CoordProjection=TM128Coord,mantle.TM128Coord=new TM128Coord,G.proj.TM128Coord=new TM128Coord;var TM128=function(){};NAVER_MAPS.Util.ClassExtend(TM128,mantle.TM128CoordProjection,{name:"TM128",fromPointToCoord:function(e){return this.fromPointToLatLng(e)},fromCoordToPoint:function(e){return this.fromLatLngToPoint(e)},fromCoordToLatLng:function(e){return e.clone()},fromLatLngToCoord:function(e){return e.clone()}}),mantle.TM128Projection=TM128,mantle.TM128=new TM128,G.proj.TM128=new TM128,"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var r=meta[e];return"string"==typeof r?r:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,r){var o,t,n,a,s,i=gap,u=r[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(r,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,o=0;a>o;o+=1)s[o]=str(o,u)||"null";return n=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+i+"]":"["+s.join(",")+"]",gap=i,n}if(rep&&"object"==typeof rep)for(a=rep.length,o=0;a>o;o+=1)"string"==typeof rep[o]&&(t=rep[o],n=str(t,u),n&&s.push(quote(t)+(gap?": ":":")+n));else for(t in u)Object.prototype.hasOwnProperty.call(u,t)&&(n=str(t,u),n&&s.push(quote(t)+(gap?": ":":")+n));return n=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+i+"}":"{"+s.join(",")+"}",gap=i,n}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,r,o){var t;if(gap="",indent="","number"==typeof o)for(t=0;o>t;t+=1)indent+=" ";else"string"==typeof o&&(indent=o);if(rep=r,r&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,r){var o,t,n=e[r];if(n&&"object"==typeof n)for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t=walk(n,o),t!==undefined?n[o]=t:delete n[o]);return reviver.call(e,r,n)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){var e=G.proj.UTMK,r=G.proj.UTMK_NAVER,o=G.proj.TM128,t=G.proj.EPSG3857Coord;G.TransCoord={fromLatLngToUTMK:function(r){return e.fromLatLngToUTMK(r)},fromLatLngToNaver:function(e){return r.fromLatLngToNaver(e)},fromLatLngToTM128:function(e){return o.fromLatLngToTM128(e)},fromLatLngToEPSG3857:function(e){return t.fromLatLngToEPSG3857(e)},fromUTMKToLatLng:function(r){return e.fromUTMKToLatLng(r)},fromUTMKToNaver:function(e){return r.fromUTMKToNaver(e)},fromUTMKToTM128:function(e){return o.fromUTMKToTM128(e)},fromUTMKToEPSG3857:function(r){return t.fromLatLngToEPSG3857(e.fromUTMKToLatLng(r))},fromNaverToLatLng:function(e){return r.fromNaverToLatLng(e)},fromNaverToUTMK:function(e){return r.fromNaverToUTMK(e)},fromNaverToTM128:function(e){var t=r.fromNaverToUTMK(e);return o.fromUTMKToTM128(t)},fromNaverToEPSG3857:function(e){return t.fromLatLngToEPSG3857(r.fromNaverToLatLng(e))},fromTM128ToLatLng:function(e){return o.fromTM128ToLatLng(e)},fromTM128ToUTMK:function(e){return o.fromTM128ToUTMK(e)},fromTM128ToNaver:function(e){var t=o.fromTM128ToUTMK(e);return r.fromUTMKToNaver(t)},fromTM128ToEPSG3857:function(e){return t.fromLatLngToEPSG3857(o.fromTM128ToLatLng(e))},fromEPSG3857ToLatLng:function(e){return t.fromEPSG3857ToLatLng(e)},fromEPSG3857ToUTMK:function(r){var o=t.fromEPSG3857ToLatLng(r);return e.fromLatLngToUTMK(o)},fromEPSG3857ToNaver:function(e){var o=t.fromEPSG3857ToLatLng(e);return r.fromLatLngToNaver(o)},fromEPSG3857ToTM128:function(e){var r=t.fromEPSG3857ToLatLng(e);return o.fromLatLngToTM128(r)}}}();var NV1Formatter={geocode:function(e){var r=this._getAddresses(e.addresses);return r&&0!==r.length?{total:r.length,userquery:"",items:r}:{total:0,userquery:"",items:[]}},reverseGeocode:function(e){for(var r=[],o=!1,t=e.results,n=t.length,a=0;n>a;a+=1){var s=t[a],i=s.name,u=s.region,d=s.land,T=s.code.type,f=!1,c=!1;if(i===ORDER_TYPE_ADDR&&(o=!0),i===ORDER_TYPE_ROAD_ADDR&&(f=!0),i===ORDER_TYPE_ADM_CODE){if("A"!==T&&"S"!==T)continue;c=!0}var m="",_="",E="",l="",p="",g="",h="",C={x:0,y:0};if(this._hasArea(u.area0)&&(i===ORDER_TYPE_COUNTRY_CODE?(m+=u.area0.name,this._hasCoordinates(u.area0)&&this._setCoordinates(u.area0,C)):m+="kr"===u.area0.name?"대한민국":u.area0.name),this._hasArea(u.area1)&&(E=u.area1.name,this._setCoordinates(u.area1,C)),this._hasArea(u.area2)&&(l=u.area2.name,this._setCoordinates(u.area2,C)),this._hasArea(u.area3)&&(p=u.area3.name,this._setCoordinates(u.area3,C)),this._hasArea(u.area4)&&(g=u.area4.name,this._setCoordinates(u.area4,C)),d&&(this._hasData(d.number1)&&(this._hasData(d.type)&&"2"===d.type&&(h+="산"),h+=d.number1,this._hasData(d.number2)&&(h+="-"+d.number2)),f===!0&&(this._checkLastString(p,"면")?g=d.name:(p=d.name,g=""),this._hasAddition(d.addition0)&&(h+=" "+d.addition0.value)),this._setCoordinates(d,C)),i===ORDER_TYPE_ADM_CODE){var R=t[2];if(!R||!R.land||!R.land.number1)continue;var M=R.land;this._hasData(M.type)&&"2"===M.type&&(h+="산"),h+=M.number1,this._hasData(M.number2)&&(h+="-"+M.number2)}i===ORDER_TYPE_COUNTRY_CODE?_+=m:s.address?_+=s.address:(_+=E,l&&(_+=" "+l),p&&(_+=" "+p),g&&(_+=" "+g),h&&(_+=" "+h));var P={},S={};S.country=m,S.sido=E,S.sigugun=l,S.dongmyun=p,S.ri=g,S.rest=h,P.addrdetail=S,P.point=C,P.address=_,P.isRoadAddress=f,P.isAdmAddress=c,r[a]=P}return n>1&&t[0].name===ORDER_TYPE_COUNTRY_CODE&&r.shift(),n>2&&o===!0&&t[1].name===ORDER_TYPE_LEGAL_CODE&&r.shift(),{total:r.length,userquery:"",items:r}},_getAddresses:function(e){if(!e||0===e.length)return[];for(var r,o,t,n,a,s,i=[],u=e.length,d=0;u>d;d+=1)r=e[d],t=r.roadAddress,o=r.jibunAddress,n=r.x||-1,a=r.y||-1,s={x:n,y:a},o&&i.push(this._getAddress(ADDRESS_TYPE.JIBUN,o,s)),t&&i.push(this._getAddress(ADDRESS_TYPE.ROAD,t,s));return i},_getAddress:function(e,r,o){return e===ADDRESS_TYPE.JIBUN?{address:r,addrdetail:this._getDetailJibun(r),isRoadAddress:!1,point:o}:{address:r,addrdetail:this._getDetailRoad(r),isRoadAddress:!0,point:o}},_getDetailDefault:function(e){var r=e.split(" "),o=r.shift(),t=r.shift(),n=r.shift();return this._checkLastString(n,"구")&&(t=t+" "+n,n=r.shift()),{country:"대한민국",sido:o,sigugun:t,dongmyun:n,ri:"",rest:"",restAddress:r}},_getDetailJibun:function(e){var r=this._getDetailDefault(e),o=r.restAddress;return r.ri=this._shift(o),this._checkLastString(r.ri,"리")?r.rest=o.join(" "):(r.rest=r.ri+" "+o.join(" "),r.ri=""),delete r.restAddress,r},_getDetailRoad:function(e){var r=this._getDetailDefault(e),o=r.restAddress;return r.ri=this._shift(o),this._checkNumericString(r.ri)?(r.rest=r.ri+" "+o.join(" "),r.ri=""):r.rest=o.join(" "),delete r.restAddress,r},_checkLastString:function(e,r){return new RegExp(r+"$").test(e)},_checkNumericString:function(e){return/^\d.*/.test(e)},_shift:function(e){var r=e.shift();return r?r:""},_hasArea:function(e){return!(!e||!e.name||""===e.name)},_hasCoordinates:function(e){return!!(e&&e.coords&&e.coords.center&&e.coords.center.crs)},_setCoordinates:function(e,r){e&&r&&(r.x=e.coords.center.x,r.y=e.coords.center.y)},_hasData:function(e){return!(!e||""===e)},_hasAddition:function(e){return!(!e||!e.value)}};G.NV1Formatter=NV1Formatter,G.Service={Status:{OK:STATUS_OK,ERROR:STATUS_ERROR},Encoding:{UTF_8:ENCODING_UTF_8,EUC_KR:ENCODING_EUC_KR},CoordType:{LATLNG:COORD_TYPE_LATLNG,TM128:COORD_TYPE_TM128},CoordinatesType:{LATLNG:COORDINATES_TYPE_LATLNG,UTMNK:COORDINATES_TYPE_UTMK,TM128:COORDINATES_TYPE_TM128,EPSG3857:COORDINATES_TYPE_EPSG3857},OrderType:{LEGAL_CODE:ORDER_TYPE_LEGAL_CODE,ADDR:ORDER_TYPE_ADDR,ROAD_ADDR:ORDER_TYPE_ROAD_ADDR,ADM_CODE:ORDER_TYPE_ADM_CODE},GeocodeStatus:{OK:"OK",INVALID_REQUEST:"INVALID_REQUEST",SYSTEM_ERROR:"SYSTEM_ERROR"},ReverseGeocodeStatusCode:{CODE_0:"0",CODE_3:"3",CODE_100:"100",CODE_900:"900"},ReverseGeocodeStatusName:{OK:"ok",NO_RESULTS:"no results",INVALID_REQUEST:"invalid request",UNKNOWN_ERROR_IO_ERROR:"unknown error / io error"}};var RequestService=function(e,r,o){if(!OPENAPI_CLIENT_ID)throw new Error('Open API "Client Id" is missing!\nServer api services are available only to valid Open API user.');var t=o||mantle.noop,n=r||{};n.clientId=OPENAPI_CLIENT_ID,0===LOCATION_URL.indexOf("file")&&(n.url=LOCATION_URL),n.encoding===ENCODING_UTF_8&&delete n.encoding,n.coordType===COORD_TYPE_LATLNG&&delete n.coordType,mantle.jsonp(e,{data:n,callbackname:"callback",callback:function(e){t(STATUS_OK,e)},error:function(){t(STATUS_ERROR)}})},RequestServiceNcp=function(e,r,o){if(!NCP_CLIENT_ID&&!GOV_CLIENT_ID&&!FIN_CLIENT_ID)throw new Error('Open API "Client Id" is missing!\nServer api services are available only to valid Open API user.');var t=new XMLHttpRequest,n=r||{},a=n.userquery,s=o||mantle.noop;delete n.userquery,n["X-NCP-APIGW-API-KEY-ID"]=NCP_CLIENT_ID||GOV_CLIENT_ID||FIN_CLIENT_ID,t.onload=function(){if(200!==t.status)return void s(STATUS_ERROR);var r={};try{r.v2=JSON.parse(t.responseText)}catch(o){console.warn(o.toString())}try{var n,i,u={jibunAddress:"",roadAddress:""},d=r.v2.results,T=d.length;r.v2.address=u;for(var f=0;T>f;f+=1)i=d[f],n=makeAddress(i)||"","roadaddr"===i.name?u.roadAddress=n:u.jibunAddress=n}catch(o){console.warn(o.toString())}return r.v2?a?(r.result=e===GEOCODE_URL?NV1Formatter.geocode(r.v2):NV1Formatter.reverseGeocode(r.v2),r.result.userquery=a,void s(STATUS_OK,r)):void s(STATUS_OK,r):void s(STATUS_ERROR)},t.onerror=function(e){s(STATUS_ERROR,e)},t.open("GET",e+"?"+serialize(n),!0),t.setRequestHeader("Content-Type","text/plain"),t.send()},Geocoding={geocode:function(e,r){var o=mantle.extend({encoding:ENCODING_UTF_8,coordType:COORD_TYPE_LATLNG},e),t=o.address;if(!t)throw new Error('"address" is missing!');delete o.address,RequestService(GEOCODE_URL,{query:encodeURIComponent(t),encoding:o.encoding,coordType:o.coordType},r)},reverseGeocode:function(e,r){var o=mantle.extend({encoding:ENCODING_UTF_8,coordType:COORD_TYPE_LATLNG},e),t=o.location;if(!t)throw new Error('"location" is missing!');delete o.location;var n=mantle.box(t);RequestService(REVERSE_GEOCODE_URL,{query:n.x+","+n.y,encoding:o.encoding,coordType:o.coordType},r)}},GeocodingNcp={geocode:function(e,r){this._checkParameters(e),this._supportV1Geocode(e),this._validateParameters(GEOCODE_NCP_PARAMETERS,e),RequestServiceNcp(GEOCODE_URL,e,r)},reverseGeocode:function(e,r){this._checkParameters(e),this._supportV1ReverseGeocode(e),this._supportV2ReverseGeocode(e),this._validateParameters(REVERSEGEOCODE_NCP_PARAMETERS,e),this._setForceParametersForV2ReverseGeocode(e),RequestServiceNcp(REVERSE_GEOCODE_URL,e,r)},_checkParameters:function(e){if(!e)throw new Error('"options" is missing!');if("object"!=typeof e)throw new Error('"options" must be object!')},_validateParameters:function(e,r){for(var o=e.length,t=0;o>t;t++){var n=e[t],a=n.name,s=n.type,i=n.required,u=r[a];if(i&&!u)throw new Error('"'+a+'" is missing!');u&&typeof u!==s&&console.warn('"'+a+'" type does not match')}},_supportV1Geocode:function(e){var r=e.address;r&&(e.query=r,e.userquery=r)},_supportV1ReverseGeocode:function(e){var r=e.location;if(r){if(this._checkCoordinates(r)===!1)throw new Error("Please check location.");e.coords=this._convertCoordinates(r,e.coordType),e.userquery=e.coords,e.coordType&&console.warn("Code type is deprecated. Only LatLng is supported."),e.orders=[ORDER_TYPE_COUNTRY_CODE,ORDER_TYPE_LEGAL_CODE,ORDER_TYPE_ADDR,ORDER_TYPE_ROAD_ADDR,ORDER_TYPE_ADM_CODE].join(",")}},_supportV2ReverseGeocode:function(e){var r=e.coords;if("string"!=typeof r){if(this._checkCoordinates(r)===!1)throw new Error("Please check coords.");e.coords=this._getCoordinates(r)}},_setForceParametersForV2ReverseGeocode:function(e){e.output="json"},_getCoordinates:function(e){return this._convertCoordinates(e)},_convertCoordinates:function(e,r){var o,t,n=e,a=r?r:COORD_TYPE_LATLNG;return a===COORD_TYPE_TM128&&(n=naver.maps.TransCoord.fromTM128ToLatLng(new mantle.Point(e.x,e.y))),n instanceof mantle.LatLng?(o=n.lng(),t=n.lat()):(o=n.x,t=n.y),[o,t].join(",")},_checkCoordinates:function(e){return!(!e||!this._isCoordinates(e))},_isCoordinates:function(e){return!(!e.x||!e.y)}};Geocoding.fromAddrToCoord=Geocoding.geocode,GeocodingNcp.fromAddrToCoord=GeocodingNcp.geocode,Geocoding.fromCoordToAddr=Geocoding.reverseGeocode,GeocodingNcp.fromCoordToAddr=GeocodingNcp.reverseGeocode,mantle.extend(G.Service,NCP_CLIENT_ID||GOV_CLIENT_ID||FIN_CLIENT_ID?GeocodingNcp:Geocoding),function(){window.naver&&window.naver.maps&&(mantle.extend(NAVER_MAPS,{UTMKCoord:mantle.UTMKCoord,TM128Coord:mantle.TM128Coord,TM128:mantle.TM128,EPSG3857Coord:mantle.EPSG3857Coord,proj:G.proj,TransCoord:G.TransCoord}),CLIENT_ID&&(NAVER_MAPS.Service=G.Service),NAVER_MAPS.Event.trigger(NAVER_MAPS,SUBMODULES_INIT_EVENT,G))}()}(window);